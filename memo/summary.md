# mpurseのアドレスにプロフィール情報を紐づけたい

* [暗号通貨のアドレスに名前とアバター画像をつけたい][]

[暗号通貨のアドレスに名前とアバター画像をつけたい]:https://monaledge.com/article/392

　Mpurse APIのアドレスとMastodonのプロフィールを紐付ける。両者のAPIを使って本人確認すればなりすましも不可能。さらにwebmentionでその情報を受け取り、TSVに加工して扱いやすくする。

[mpurse.getAddress]:https://github.com/tadajam/mpurse#getaddress
[mpurse.sendAsset]:https://github.com/tadajam/mpurse#sendasset
[mpurse.signMessage]:https://github.com/tadajam/mpurse#signmessage

# データについて

　ひとりの人間は、複数のアドレスとプロフィールをもちうる。プロフィールは各SNSサービスの各アカウントで別々のものである可能性がある。

* ひとりの人間
    * 別のサービス
        * 別のアカウント

　ようするに複垢の扱いを考えておかねばならない。単純に考えるなら、ひとつのアドレスにつき、ひとつのプロフィールを結びつければよい。ただ、複数のサービスやアカウントを使う場合も多いはず。

## 複数アドレス

* 別の暗号通貨
* 別のアドレス　

　本来なら上記のようにたくさんの選択肢がある。だが今回は暗号通貨はモナコインに限定し、アドレスはmpurseで作られたものに限る。その理由は、mpurseの署名により本人確認することで、なりすましを防げるから。

　もしかするとMonaParty APIを使えばmpurseを使わずとも署名が可能かもしれない。でも私にはその知識や技術もない。なので今はmpurseを使うことで解決する。

## 複数SNSサービス

　プロフィール情報を得るために利用する。なりすましを防ぐためにはAPIによる承認が必要。だがツイッターはAPIを使う条件に電話番号の提示があるため、私には不可能。マストドンとmisskeyが使えそう。

### 複数インスタンス

　マストドンはその特性上、インスタンスに分散する。そのインスタンスでアカウントを持っており、プロフィールをセットしている必要がある。

### プロフィール情報

* SNSのプロフィール情報を使う

## Webmention

* トゥートやノートの内容からmpurseのアドレスを取得する
* トゥートやノートした人のプロフィール情報を取得する（ユーザ名、アバター画像。おそらくユーザ名から自己紹介文も入手できる？）

# 紐づけ

* 複数アドレス
    * 複数SNSサービス
        * 複数アカウント

# 本人確認

* mpurseの署名でアドレスの本人確認をする
* SNSのAPIで承認し、アカウントの本人確認をする

# とりあえずメモだけ

　これを実装する前にmisskeyでノートするボタンを実装したい。


